{% extends "base.html" %}
{% block page_title %}Notifications{% endblock %}
{% block content %}
<div class="max-w-4xl mx-auto mt-4">
  <div class="bg-white rounded-lg shadow p-4">
    <h1 class="text-xl font-bold text-blue-900 mb-3">Notifications</h1>

    {% if notifications and notifications|length > 0 %}
      <ul class="space-y-3">
        {% for n in notifications %}
          <li class="border rounded p-3 flex items-start justify-between">
            <div class="min-w-0">
              {# try common fields safely #}
              <div class="text-sm text-gray-800 font-medium">
                {% if n.title %}{{ n.title }}{% elif n.message %}{{ n.message|truncatechars:80 }}{% else %}Notification{% endif %}
              </div>
              <div class="text-xs text-gray-500 mt-1">
                {% if n.created_at %}{{ n.created_at|date:"M d, Y H:i" }}{% endif %}
                {% if n.is_read %} • Read{% else %} • Unread{% endif %}
              </div>
            </div>

            <div class="text-right">
              {% if n.get_absolute_url %}
                <a href="{{ n.get_absolute_url }}" class="text-xs text-blue-700 hover:underline">Open</a>
              {% endif %}
            </div>
          </li>
        {% endfor %}
      </ul>

      {% if notifications.has_other_pages %}
        <div class="mt-4 flex gap-2">
          {% if notifications.has_previous %}
            <a href="?page={{ notifications.previous_page_number }}" class="px-3 py-1 bg-yellow-100 rounded">Previous</a>
          {% endif %}
          {% if notifications.has_next %}
            <a href="?page={{ notifications.next_page_number }}" class="px-3 py-1 bg-yellow-100 rounded">Next</a>
          {% endif %}
        </div>
      {% endif %}

    {% else %}
      <div class="text-gray-500 py-8 text-center">You have no notifications.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
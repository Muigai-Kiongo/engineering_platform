{% extends "base.html" %}
{% block content %}
<div class="max-w-xl mx-auto mt-12">
    <div class="bg-gradient-to-br from-yellow-50 via-orange-50 to-blue-50 rounded-xl shadow-xl border border-yellow-200 p-8">
        <h1 class="text-2xl font-extrabold text-yellow-700 mb-6 flex items-center gap-3">
            Edit Material
            {% if supplier %}
                <span class="ml-3 text-sm text-gray-600">for <strong class="text-orange-700">{{ supplier.company_name }}</strong></span>
            {% endif %}
        </h1>

        {% if messages %}
            <div class="mb-4">
                {% for message in messages %}
                    <div class="px-4 py-3 rounded-lg bg-white border border-yellow-100 shadow text-sm {{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}

        <form method="post" enctype="multipart/form-data" class="space-y-5">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <div>
                <label for="{{ form.name.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Name</label>
                {{ form.name }}
                {{ form.name.errors }}
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="{{ form.sku.id_for_label }}" class="block font-bold text-yellow-700 mb-2">SKU (optional)</label>
                    {{ form.sku }}
                    {% if form.sku.help_text %}<p class="text-xs text-gray-400 mt-1">{{ form.sku.help_text }}</p>{% endif %}
                    {{ form.sku.errors }}
                </div>
                <div>
                    <label for="{{ form.unit.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Unit</label>
                    {{ form.unit }}
                    {{ form.unit.errors }}
                </div>
            </div>

            <div>
                <label for="{{ form.primary_category.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Primary Category (optional)</label>
                {{ form.primary_category }}
                {{ form.primary_category.errors }}
            </div>

            <div>
                <label for="{{ form.categories.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Categories</label>
                {{ form.categories }}
                {% if form.categories.help_text %}<p class="text-xs text-gray-400 mt-1">{{ form.categories.help_text }}</p>{% endif %}
                {{ form.categories.errors }}
            </div>

            <div>
                <label for="{{ form.description.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Description</label>
                {{ form.description }}
                {{ form.description.errors }}
            </div>

            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.unit_price.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Unit Price (KSh)</label>
                    {{ form.unit_price }}
                    {{ form.unit_price.errors }}
                </div>
                <div>
                    <label for="{{ form.stock_level.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Stock Level</label>
                    {{ form.stock_level }}
                    {{ form.stock_level.errors }}
                </div>
            </div>

            <div>
                <label for="{{ form.image.id_for_label }}" class="block font-bold text-yellow-700 mb-2">Image</label>
                {{ form.image }}
                {{ form.image.errors }}
            </div>

            <div class="flex items-center gap-3">
                {{ form.is_active }}
                <label for="{{ form.is_active.id_for_label }}" class="font-medium text-yellow-700">Active?</label>
                {{ form.is_active.errors }}
            </div>

            <div>
                <button type="submit" class="w-full bg-gradient-to-r from-orange-400 via-yellow-400 to-blue-900 hover:from-orange-500 hover:to-blue-800 text-white py-2 rounded-lg font-bold shadow-lg border border-yellow-300 transition">
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}